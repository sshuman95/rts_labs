{"version":3,"sources":["components/searches.js","components/results.js","components/tags.js","App.js","redux/action.js","reportWebVitals.js","redux/reducers/search.js","index.js"],"names":["Searches","pastTerms","useSelector","state","terms","pastTags","tags","length","map","term","i","className","split","tag","Results","props","empty","query","data","hits","d","author","title","story_title","objectID","created_at","username","about","Tags","onClick","handleTag","type","value","name","placeholder","slice","onChange","story","App","useState","queryType","setQuery","searchTerm","setSearch","searchTags","setTags","setAuthor","setStory","apiData","setApiData","error","setError","dispatch","useDispatch","id","e","target","tempTags","index","indexOf","splice","push","preventDefault","temp","tagsToSend","join","url","payload","fetch","then","res","json","catch","err","console","style","color","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","intialState","action","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc92e9b7.chunk.js","sourcesContent":["import { useSelector } from \"react-redux\";\r\n\r\nconst Searches = () => {\r\n    const pastTerms = useSelector( state => state.terms )\r\n    const pastTags = useSelector( state => state.tags )\r\n    if(pastTerms.length <= 0){\r\n        return <p>No searched recorded</p>\r\n    } else {\r\n        return pastTerms.map((term,i)=>{\r\n            return (\r\n                <div className=\"box\">\r\n                    <p>Term Used: {term}</p>\r\n                    <div>\r\n                        <p>Tags Used:</p>\r\n                        {pastTags[i] === \"\" ? \"No tags used\" : pastTags[i].split(\",\").map(tag=>{\r\n                            return <p>{tag}</p>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n  }\r\n\r\n  export default Searches;","\r\n\r\nconst Results = (props) =>{\r\n    let empty = <h1>No Results Found</h1>;\r\n        if(props.query === \"search\"){\r\n            return props.data.hits.length <= 0 ? empty : props.data.hits.map(d=>{\r\n                return (\r\n                    <div className=\"box\">\r\n                        <p>Author: {d.author}</p>\r\n                        <p key={d.objectID}> Title: {d.title || d.story_title || \"No Title Provided\"}</p>\r\n                        <p>Created at: {d.created_at}</p>\r\n                        <p>ID: {d.objectID}</p>\r\n                    </div>\r\n                 \r\n                )\r\n            })\r\n        } else if(props.query === \"id\"){\r\n                return (\r\n                    <div className=\"box\">\r\n                        <p>Author: {props.data.author}</p>\r\n                        <p>Title: {props.data.title}</p>\r\n                        <p>Created at: {props.data.created_at}</p>\r\n                    </div>\r\n                )\r\n        } else {\r\n                return (\r\n                    <div className=\"box\">\r\n                        <p>username: {props.data.username}</p>\r\n                        <p>about: {props.data.about}</p>\r\n                        <p>Created at: {props.data.created_at}</p>\r\n                    </div>\r\n                )\r\n            }\r\n    }\r\n\r\n export default Results;","\r\nconst Tags = (props) => {\r\n    const tags = [\r\n        \"story\",\r\n        \"comment\",\r\n        \"poll\",\r\n        \"pollopt\",\r\n        \"show_hn\",\r\n        \"ask_hn\",\r\n        \"front_page\",\r\n        \"author_\",\r\n        \"story_\"\r\n      ];\r\n\r\n   let elems = tags.map((tag)=>{\r\n        if(tag !== \"author_\" && tag !== \"story_\"){\r\n            return (\r\n                <div key={tag}>\r\n                    <label>{tag}</label>\r\n                    <input className=\"checked\" onClick={props.handleTag} type=\"checkbox\" value={tag} name={tag}/>\r\n                </div>\r\n            ) \r\n        } else {\r\n            return (\r\n                <div key={tag}>\r\n                    <input type=\"text\" placeholder={tag.slice(0,-1)} onChange={props.handleTag} value={tag === \"author_\" ? props.author : props.story} name={tag}/>\r\n                </div>\r\n            ) \r\n        }\r\n   });\r\n\r\n   return (\r\n       elems\r\n   )\r\n};\r\n\r\nexport default Tags;","import { useState } from \"react\";\nimport './App.css';\nimport { useDispatch } from \"react-redux\";\nimport { addTerm, addTag } from \"./redux/action\";\nimport Searches from \"./components/searches\";\nimport Results from \"./components/results\"\nimport Tags from \"./components/tags\";\n\n\n\n\nconst App = () => {\n  const [queryType, setQuery] = useState(\"search\");\n  const [searchTerm, setSearch] = useState(\"\");\n  const [searchTags, setTags] = useState([]);\n  const [author, setAuthor] = useState(\"\");\n  const [story, setStory] = useState(\"\");\n  const [apiData, setApiData] = useState([]);\n  const [error,setError] = useState(false);\n  const dispatch = useDispatch();\n\n\n  const handleQueryChange = (e) => {\n    setQuery(e.target.value);\n    setApiData([]);\n    setTags([]);\n    setError(false)\n  }\n\n  const handleChange = (e) => {\n    setSearch(e.target.value);\n  }\n\n\n  const handleTag = (e) => {\n      let tempTags = searchTags;\n      if(e.target.type === \"text\"){\n          e.target.name === \"author_\" ? setAuthor(e.target.value) : setStory(e.target.value)\n      } else {\n        let index = tempTags.indexOf(e.target.value);\n        if( index > -1 ){\n            tempTags.splice(index,1)\n        } else {\n          tempTags.push(e.target.value);\n        }\n      }\n      setTags(tempTags);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if(searchTerm || searchTags.length > 0 || story || author){\n        let temp = searchTerm !== \"\" ? searchTerm : \"No term Provided\";\n        let tagsToSend = searchTags.join();\n        if(story){\n           tagsToSend === \"\" ? tagsToSend +=`story_${story}` : tagsToSend +=`,story_${story}`;\n        }\n\n        if(author){\n          tagsToSend === \"\" ? tagsToSend +=`author_${author}` : tagsToSend +=`,author_${author}`;\n        }\n        let url = ``;\n        switch(queryType){\n          case \"search\":\n            url = `search?query=${searchTerm}&tags=${tagsToSend}`\n            break;\n          case \"id\":\n            url = `items/${searchTerm}`;\n            //Since these queries don't use tags I'm setting the tag to be the query name\n            tagsToSend = \"id\";\n            break;\n          case \"username\":\n            url = `users/${searchTerm}`;\n            tagsToSend = \"username\";\n            break;\n          default:\n            return;\n        }\n        dispatch(addTerm(temp));\n        dispatch(addTag(tagsToSend));\n        fetch(\"https://hn.algolia.com/api/v1/\"+url)\n        .then(res=>{\n          return res.json()\n        })\n        .then(json=>{\n          setApiData(json);\n          setError(false);\n        })\n        .catch(err=>{\n          console.error(err);\n          setError(true);\n        })\n    }\n  }\n\n\n\n  return (\n    <div className=\"App\">\n        <h1>Hacker News Algolia API</h1>\n        <form>\n        <select id=\"queries\" name=\"queriesForm\" onChange={handleQueryChange}>\n          <option value=\"search\">Search by Term  or Tag (text)</option>\n          <option value=\"id\">Search by ID (numeric)</option>\n          <option value=\"username\">Search by Username (text)</option>\n        </select>\n        </form>\n        <form>\n            <input onChange={handleChange} type=\"text\" placeholder=\"Search Term\"/>\n            {queryType === \"search\" ? \n            <div>\n             <p>Select a tag(s) to filter your search</p>\n              <Tags handleTag={handleTag}/>\n            </div>\n            : \"\"}\n            <input type=\"submit\" onClick={handleSubmit}/>\n        </form>\n        {error?<h2 style={{color:'red'}}>Failed to Fetch. Please try with a different Query</h2>:\"\"}\n        <section className=\"searchResults\">\n          <div className=\"resultsContainer\">\n            <h1>Results</h1>\n            {apiData.length <= 0 ? <p>Please enter a search term</p> : <Results query={queryType} data={apiData}/>}\n          </div> \n          <div>\n            <h1>Your past search terms</h1>\n            <Searches/>\n          </div> \n        </section>\n    </div>\n  );\n}\n\nexport default App;\n","export const addTerm = (term) => {\r\n    return {\r\n      type: \"ADD_TERM\",\r\n      payload:term\r\n    }\r\n  }\r\n\r\n\r\nexport const addTag = (tags) => {\r\n    return {\r\n      type: \"ADD_TAG\",\r\n      payload:tags\r\n    }\r\n  }","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const intialState = {\r\n    terms:[],\r\n    tags:[]\r\n}\r\n\r\n\r\n\r\nconst terms = (state = intialState, action) => {\r\n    switch(action.type){\r\n      case \"ADD_TERM\":\r\n        return {\r\n            ...state,\r\n            terms:[...state.terms, action.payload]\r\n        }\r\n      case \"ADD_TAG\":\r\n          return {\r\n              ...state,\r\n              tags:[...state.tags, action.payload]\r\n        }\r\n      default:\r\n        return state;\r\n  }\r\n}\r\n\r\nexport default terms;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore } from \"redux\";\nimport { Provider } from 'react-redux';\nimport terms from \"./redux/reducers/search\";\n\n\nlet store = createStore(terms,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}